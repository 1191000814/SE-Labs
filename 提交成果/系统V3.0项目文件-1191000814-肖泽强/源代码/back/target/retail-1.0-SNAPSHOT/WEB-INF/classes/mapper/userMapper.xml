<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.UserMapper">
  <!--  namespace是名称空间,表示对应哪个接口文件,必须用带路径的接口全类名-->
  <!--  id是表示对应哪个函数-->
  <!--  #{id}表示从传递过来的参数中取出id值-->
  <!--  #{username}, #{password}表示从可以从传进来的对象中取出其属性 'username', 'password-->
  <select id="getById" resultType="pojo.User">
    select * from retail.user where id = #{id}
  </select>

  <select id="getByFullName" resultType="pojo.User">
    select * from retail.user where username = #{username}
  </select>

  <select id="getByName" resultType="pojo.User">
    select * from retail.user where username like #{pattern}
  </select>

  <select id="getAll" resultType="pojo.User">
    select * from retail.user
  </select>

  <select id="getByNameAndPassword" resultType="pojo.User">
    select * from retail.user where username=#{param1} and password=#{param2}
  </select>

  <select id="getMaxId" resultType="int">
    select ifnull(max(id), 0) from retail.user
  </select>

  <select id="getAllCustomer" resultType="pojo.User">
    select * from retail.user where status=0
  </select>

  <delete id="deleteById">
    delete from retail.user where id = #{id}
  </delete>

  <update id="updateById">
    update retail.user
    set username = #{username}, password = #{password}, email = #{email}, status = #{status}
    where id = #{id}
  </update>

  <insert id="insert" useGeneratedKeys="true" keyProperty="id">
    insert into retail.user values (#{id}, #{username}, #{password}, #{email}, #{status}, #{performance})
  </insert>

</mapper>